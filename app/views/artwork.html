<div class="well">
  <form id="artwork_form" class="container">  
        
    <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">
      {{alert.msg}}
    </alert>

    <div class="row artwork-name">
      <span class="wrap-title name">{{artwork.name}}</span>

      <button class="btn btn-default btn-xs h2-button" ng-hide="isEditing" ng-click="edit()"><span class="glyphicon glyphicon-edit"/>{{'ARTWORK.EDIT' | translate}}</button>

      <button class="btn btn-danger btn-xs h2-button" ng-hide="isEditing" ng-click="confirmDelete()"><span class="glyphicon glyphicon-remove"/>{{'ARTWORK.DELETE' | translate}}</button>

      <button class="btn btn-primary btn-xs h2-button" ng-show="isEditing" ng-click="submit()"><span class="glyphicon glyphicon-ok"/>{{'ARTWORK.SAVE' | translate}}</button>

      <button class="btn btn-default btn-xs h2-button" ng-show="isEditing" ng-click="cancelEdit()"><span class="glyphicon glyphicon-remove-circle"></span> {{'ARTWORK.CANCEL' | translate}} </button>

      <input  ng-show="isEditing" placeholder="{{ 'GALLERY.NAME_PH' | translate}}" class="form-control" type="text" value="{{editingArtwork.name}}" ng-model="editingArtwork.name"/>

    </div>

    <div class="row" ng-switch="isEditing">
      <h4 translate='ARTWORK.PUBLISHED'></h4>
      <bs-switch
        ng-switch-when="false"
        ng-model="artwork.enabled"
        type="checkbox"
        switch-active="{{ !artwork }}"
        switch-readonly="true"
        switch-size="small"
        switch-on-text="{{ 'ARTWORK.ENABLED' | translate }}"
        switch-off-text="{{ 'ARTWORK.DISABLED' | translate }}"
        ng-true-value="true"
        ng-false-value="false"> </bs-switch>

      <bs-switch
        ng-switch-when="true"
        ng-model="editingArtwork.enabled"
        type="checkbox"
        switch-size="small"
        switch-on-text="{{ 'ARTWORK.ENABLED' | translate }}"
        switch-off-text="{{ 'ARTWORK.DISABLED' | translate }}"
        ng-true-value="true"
        ng-false-value="false"> </bs-switch>
    </div>

    <div class="row" ng-switch="isEditing">
      <h4 translate='ARTWORK.DESCRIPTION'></h4>
      <div ng-switch-when="false" ng-bind-html="artwork.description | nl2br"></div>
      <textarea  rows="15" class="form-control" ng-switch-when="true" value="{{editingArtwork.description}}" ng-model="editingArtwork.description"></textarea>
    </div>

    <div class="row">
      <div class="col-md-6 left-col" ng-switch="isEditing">
        <h4 translate='ARTWORK.AUTHOR'></h4>
        <p ng-switch-when="false">{{artwork.author}}</p>
        <input type="text" class="form-control" placeholder="author name" ng-switch-when="true" value="{{editingArtwork.author}}" ng-model="editingArtwork.author"/>
      </div>

      <div class="col-md-6 left-col" ng-switch="isEditing">
        <h4 translate='ARTWORK.BEACON'></h4>
        <p ng-switch-when="false">{{artwork.majorminor}}</p>
        <input type="text" class="form-control" ng-switch-when="true" value="{{editingArtwork.majorminor}}" ng-model="editingArtwork.majorminor"/>
      </div>
    </div>

    <div class="row">
      <div class="col-md-6" ng-switch="isEditing">
        <h4 translate='ARTWORK.IMAGE'></h4>
        <div ng-switch-when="false">
          <cl-image class="thumbnail" public-id="{{artwork.image.public_id}}" crop="fill" height="150" width="200" format="jpg"/>
        </div>

        <div ng-switch-when="true" class="form_controls">
          <div ng-show="editingArtwork.image">
            <cl-image class="thumbnail" public-id="{{editingArtwork.image.public_id}}" crop="fill" height="150" width="200" format="jpg"/>
          </div>
          
          <le-uploader upload-completed="imageUploaded(data)" tags="editingArtwork.gallery_id" prompt="{{'ARTWORK.UPLOAD_IMAGE' | translate}}"></le-uploader>
        </div>
      </div>

      <div class="col-md-6" ng-switch="isEditing">
        <h4 translate='ARTWORK.AUDIO'></h4>
        <div ng-switch-when="false">
          <le-audio-player ng-show="artwork.audio" artwork="artwork.audio"></le-audio-player>
          <p ng-hide="artwork.audio" translate='ARTWORK.NO_AUDIO'></p> 
        </div>

        <div ng-switch-when="true" class="form_controls">
          <div>
            <le-audio-player ng-show="editingArtwork.audio" artwork="editingArtwork.audio"/></le-audio-player>
          </div>

          <div>
            <le-uploader upload-completed="audioUploaded(data)" tags="editingArtwork.gallery_id" prompt="{{'ARTWORK.UPLOAD_AUDIO' | translate}}"></le-uploader>
          </div>
        </div>
      </div>

    </div>

    <div class="row">
      <div class="col-md-6 left-col" ng-switch="isEditing">
        <h4 translate='ARTWORK.LIKES_COUNT'></h4>
        <p ng-switch-when="false">{{artwork.likes_count}}</p>
        <select ng-switch-when="true" class="form-control btn btn-primary" ng-model="editingArtwork.likes_count" ng-options="value for value in likes_count_reference"></select>
      </div>
    </div>

  </form>
</div>
