<form id="artwork_form">  
      
  <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">
    {{alert.msg}}
  </alert>

  <script type="text/ng-template" id="confirmDeleteArtworkModalContent.html">
    <div class="modal-header">
      <h3 class="modal-title">Danger!</h3>
    </div>
    <div class="modal-body">
      <p> Confirm you want to delete <b>{{artwork.name}}</b>.</p>
    </div>
    <div class="modal-footer">
      <button class="btn btn-danger" ng-click="ok()">Delete</button>
      <button class="btn btn-default" ng-click="cancel()">Cancel</button>
    </div>
  </script>

  <div class="row artwork-name">
    <span class="wrap-title name">{{artwork.name}}</span>

    <button class="btn btn-default btn-xs h2-button" ng-hide="isEditing" ng-click="edit()"><span class="glyphicon glyphicon-edit"/>Edit</button>

    <button class="btn btn-danger btn-xs h2-button" ng-hide="isEditing" ng-click="confirmDelete()"><span class="glyphicon glyphicon-remove"/>Delete</button>

    <button class="btn btn-primary btn-xs h2-button" ng-show="isEditing" ng-click="submit()"><span class="glyphicon glyphicon-ok"/> Save</button>

    <button class="btn btn-default btn-xs h2-button" ng-show="isEditing" ng-click="cancelEdit()"><span class="glyphicon glyphicon-remove-circle"></span> Cancel </button>
  </div>

  <div class="row" ng-switch="isEditing">
    <h4>Description</h4>
    <div ng-switch-when="false" ng-bind-html="artwork.description | nl2br"></div>
    <textarea  placeholder="description" rows="15" class="form-control" ng-switch-when="true" value="{{editingArtwork.description}}" ng-model="editingArtwork.description"/>
  </div>

  <div class="row">
    <div class="col-md-6 left-col" ng-switch="isEditing">
      <h4>Author</h4>
      <p ng-switch-when="false">{{artwork.author}}</p>
      <input type="text" class="form-control" placeholder="author name" ng-switch-when="true" value="{{editingArtwork.author}}" ng-model="editingArtwork.author"/>
    </div>

    <div class="col-md-6 left-col" ng-switch="isEditing">
      <h4>Beacon</h4>
      <p ng-switch-when="false">{{artwork.major}}-{{artwork.minor}}</p>
      <input type="text" class="majorminor" placeholder="major" ng-switch-when="true" value="{{editingArtwork.major}}" ng-model="editingArtwork.major"/>  
      <input type="text" class="majorminor" placeholder="minor" ng-switch-when="true" value="{{editingArtwork.minor}}" ng-model="editingArtwork.minor"/>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6" ng-switch="isEditing">
      <h4>Image</h4>
      <div ng-switch-when="false">
        <cl-image class="thumbnail" public-id="{{artwork.image.public_id}}" crop="fill" height="150" width="200" format="jpg"/>
      </div>

      <div ng-switch-when="true" class="form_controls">
        <div>
          <cl-image class="thumbnail" public-id="{{editingArtwork.image.public_id}}" crop="fill" height="150" width="200" format="jpg"/>
        </div>
        <div class="upload_button_holder">
          <div href="#" class="btn btn-primary " ng-file-select="onImageSelect($files)" data-multiple="false" title="aaaa" onclick="this.value = null">Upload Image</div>
        </div>
        <progressbar ng-show="image_progress > 0" value="image_progress"> <span class="status">{{image_status}}</span> </progressbar>
      </div>
    </div>

    <div class="col-md-6" ng-switch="isEditing">
      <h4>Audio</h4>
      <div ng-switch-when="false">
        <div class="row audio-player" ng-show="audio">
          <div class="col-md-10">
            <input class="form-control ng-pristine ng-valid" type="range" min="0" max="1" step="0.01" ng-model="audio.progress"/>
          </div>
          <div class="col-md-2">
            <button class="btn btn-primary" ng-click='audio.paused ? audio.play() : audio.pause()'><span ng-class="'glyphicon glyphicon-' + (audio.paused ? 'play' : 'pause')"/></button>
          </div>
        </div>
        <p ng-hide="audio"> This artwork doesn't have audio yet. </p> 
      </div>

      <div ng-switch-when="true" class="form_controls">
        <div class="row audio-player" ng-show="editingAudio">
          <div class="col-md-10">
            <input class="form-control ng-pristine ng-valid" type="range" min="0" max="1" step="0.01" ng-model="editingAudio.progress"/>
          </div>
          <div class="col-md-2">
            <button class="btn btn-primary" ng-click='editingAudio.paused ? editingAudio.play() : editingAudio.pause()'><span ng-class="'glyphicon glyphicon-' + (editingAudio.paused ? 'play' : 'pause')"/></button>
          </div>
        </div>

        <div class="upload_button_holder">
          <div href="#" class="btn btn-primary" ng-hide="audio_progress > 0" ng-file-select="onAudioSelect($files)" data-multiple="false" onclick="this.value = null">Upload Audio</div>
        </div>
        <progressbar ng-show="audio_progress > 0" value="audio_progress"> <span class="status">{{audio_status}}</span> </progressbar>
      </div>
    </div>

  </div>

</form>
